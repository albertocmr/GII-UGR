<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Práctica 1. Imágenes: Abstracción. TDA Imágenes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Práctica 1. Imágenes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Abstracción. TDA Imágenes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Práctica realizada por Alberto Cámara Ortiz y Hugo Béjar Murcia</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Introducción</h1>
<p>En esta práctica, hemos tenido que crear un fichero .cpp para cada ejercicio. Para ello, hemos copiado el fichero .cpp que se nos daba para probar la función negativo y le hemos hecho a cada uno los cambios correspondientes para adaptar el fichero al caso concreto de cada ejercicio. Estos cambios se resumen en el cambio de los parámetros recibidos, el número de parámetros, el uso de la función que se le aplicará al objeto <a class="el" href="classImage.html" title="T.D.A. Imagen.">Image</a> y la creación de otro objeto <a class="el" href="classImage.html" title="T.D.A. Imagen.">Image</a> para no modificar el objeto que ya teníamos. Las funciones Load y Save se realizan al objeto necesario para cada ejercicio.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Ejercicio de ejemplo</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Clase negativo:</h2>
<p>Calcula el negativo de una imagen</p>
<blockquote class="doxtable">
<p><b>negativo</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Imagen PGM a la que se va a calcular </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Imagen PGM resultado de calcular el negativo</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="negativo.png" alt=""/>
<div class="caption">
./negativo img/vacas.pgm expected/negativo.pgm</div></div>
<h1><a class="anchor" id="autotoc_md3"></a>
Ejercicio 1</h1>
<p>Este ejercicio nos pedía obtener una imagen con menor o igual dimensión a partir de una imagen PGM. Para ello, el ejercicio nos exige los parámetros de la esquina superior izquierda y la dimensión de la imagen resultado, es por ello que basta con un doble-bucle en el que copie en un objeto diferente los píxeles indicados, dando como resultado una imagen de copia con dimensiones dadas de la imagen original.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Clase Crop():</h2>
<p>Genera, por copia, una imagen PGM a partir de otra imagen PGM de un tamaño menor o igual que la original.</p>
<blockquote class="doxtable">
<p><b>subimagen</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;Fila&gt; &lt;Columna&gt; &lt;FilaSub&gt; &lt;ColsSub&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Nombre del fichero que contiene la imagen original. </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Nombre del fichero que contendrá la subimagen resultado. </td></tr>
    <tr><td class="paramname">&lt;Fila&gt;</td><td>Fila de la esquina superior izquierda de la subimagen que se va extraer. </td></tr>
    <tr><td class="paramname">&lt;Columna&gt;</td><td>Columna de la esquina superior izquierda de la subimagen que se va a extraer. </td></tr>
    <tr><td class="paramname">&lt;FilaSub&gt;</td><td>Indica el número de filas de la subimagen que se va a extraer. </td></tr>
    <tr><td class="paramname">&lt;ColsSub&gt;</td><td>Indica el número de columnas de la subimagen que se va a extraer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Imagen con el recorte realizado. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>El objeto que llama a la función no se modifica.</dd></dl>
<div class="image">
<img src="subimagen.png" alt=""/>
<div class="caption">
./subimagen img/vacas.pgm expected/subimagen.pgm 85 145 60 80</div></div>
<h1><a class="anchor" id="autotoc_md5"></a>
Ejercicio 2</h1>
<p>En este ejercicio, nos pedía realizar a una imagen pgm una operación que nos devolverá una imagen resultado con un factor zoom aplicado. Para calcular dicho zoom, los píxeles que se encuentran en la imagen original se colocaban en las posiciones que tienen filas y columnas pares simultáneamente, y los demás píxeles necesarios se calculan como una media de las posiciones colindantes. Se han utilizado comprobaciones en la función para evitar desbordamiento en la dimensión de la imagen, que permite ajustar el valor de la dimensión de la imagen al máximo posible en caso de que ocurra este suceso.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Clase Zoom2X():</h2>
<p>Esta función realiza un zoom 2x de una porción mediante un simple procedimiento de interpolación consistente en construir a partir de una subimagen NxN, una imagen de dimensión (2N-1) x (2N-1).</p>
<blockquote class="doxtable">
<p><b>zoom</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;Fila&gt; &lt;Columna&gt; &lt;Lado&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;FichImagenOriginal&gt;</td><td>Nombre del fichero que contiene la imagen original. </td></tr>
    <tr><td class="paramname">&lt;FichImagenDestino&gt;</td><td>Nombre del fichero que contendrá la subimagen resultado. </td></tr>
    <tr><td class="paramname">&lt;Fila&gt;</td><td>Fila de la esquina superior izquierda de la subimagen que se va extraer. </td></tr>
    <tr><td class="paramname">&lt;Columna&gt;</td><td>Columna de la esquina superior izquierda de la subimagen que se va a extraer. </td></tr>
    <tr><td class="paramname">&lt;Lado&gt;</td><td>Tamaño del lado del cuadrado. Debe estar incluído en la imagen. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Devuelve la región aumentada 2 veces como una imagen nueva. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>La imagen original no se modifica </dd>
<dd>
La imagen resultante tendrá un tamaño (2*lado - 1) X (2*lado - 1), siempre y cuando lado más col o fil sea menor que las dimensiones de la imagen original, sino se modificará.</dd></dl>
<div class="image">
<img src="zoom.png" alt=""/>
<div class="caption">
./zoom img/vacas.pgm expected/zoom.pgm 85 145 60</div></div>
<h1><a class="anchor" id="autotoc_md7"></a>
Ejercicio 3</h1>
<p>Este ejercicio nos permite obtener una imagen resultado con unas dimensiones inferiores a la imagen original aplicando un factor de reducción a los píxeles de la imagen original, de manera que los valores de los píxeles de la imagen resultado se redondearán tras realizar la media de los valores que los rodean. Para la realización de este ejercicio, se han utilizado 4 bucles anidados, donde los dos primeros bucles se encargan de recorrer la imagen y los 2 bucles siguientes de recorrer el número de valores (dependen del factor de reducción aplicado) que rodean al píxel en el que nos encontramos en ese momento (pixel(i,j)). Tras ello, se realiza la media y se redondea el valor que será almacenado en la imagen resultado (mismo objeto) </p>
<h2><a class="anchor" id="autotoc_md8"></a>
Clase Subsample():</h2>
<p>Esta función crea un icono a partir de una imagen.</p>
<blockquote class="doxtable">
<p><b>icono</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;factor&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">factor</td><td>Factor de reducción de la imagen original respecto al icono </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>factor &gt; 0 </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Devuelve la imagen iconizada </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>La imagen no se modifica </dd>
<dd>
La imagen resultante tendrá un tamaño int(filas/factor) X int(columnas/factor).Descartando los decimales de la división</dd></dl>
<div class="image">
<img src="icono.png" alt=""/>
<div class="caption">
./icono img/vacas.pgm expected/icono.pgm 2</div></div>
<h1><a class="anchor" id="autotoc_md9"></a>
Ejercicio 4</h1>
<p>En este ejercicio, a partir de una imagen PGM, generamos una imagen de niveles de gris con más contraste que la imagen original, le aplicaremos la operación histogram stretching, en la que la transformación depende del valor del píxel y de los umbrales indicados por parámetros a partir de las precondiciones que se indicarán a continuación en la clase. </p>
<h2><a class="anchor" id="autotoc_md10"></a>
Clase AdjustContrast():</h2>
<p>Esta función modifica el contraste de una imagen. </p><blockquote class="doxtable">
<p><b>contraste</b> &lt;FichImagenOriginal&gt; &lt;FichImagenDestino&gt; &lt;e1&gt; &lt;e2&gt; &lt;s1&gt; &lt;s2&gt; </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e1</td><td>Umbral inferior de la imagen de entrada </td></tr>
    <tr><td class="paramname">e2</td><td>Umbral superior de la imagen de entrada </td></tr>
    <tr><td class="paramname">s1</td><td>Umbral inferior de la imagen de salida </td></tr>
    <tr><td class="paramname">s2</td><td>Umbral superior de la imagen de salida </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>0&lt;=(e1, e2, s1, s2) &lt;=255 </dd>
<dd>
e1 &lt; e2 </dd>
<dd>
s1 &lt; s2 </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>El objeto que llama a la función es modificado.</dd></dl>
<div class="image">
<img src="contraste.png" alt=""/>
<div class="caption">
./contraste img/vacas.pgm expected/contraste.pgm 100 180 60 180</div></div>
<h2><a class="anchor" id="autotoc_md11"></a>
Aclaración</h2>
<p>Todas las imágenes que hemos obtenido las hemos pasado a .png para poder añadirlas en esta página. Para ello, ha sido necesario cambiarles el formato de .pgm a .png y se han guardado en la carpeta /estudiante/doc. De todos modos, las imágenes que se adquirian tras ejecutar los programas están guardadas sin el sufijo _sub en la carpeta expected. Cada imagen contiene como pie de foto el comando utilizado junto a sus parámetros que permiten obtenerla. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
